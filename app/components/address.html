<h2>{{$ctrl.greeting}}</h2>

<form name="addressform" class="form-horizontal" ng-submit="submit(addressform,$ctrl.address)" novalidate>

    <div ng-show="addressform.$invalid && (!addressform.$pristine || addressform.$submitted)" class="alert alert-danger">
        <i class="fa fa-exclamation-triangle"></i><span></span> Please fix the errors and retry
    </div>

    <input-text field-name="fullname" label="$ctrl.address.street.label" ng-model="$ctrl.address.street.value" required></input-text>
    <input-text field-name="unit" label="$ctrl.address.unit.label" ng-model="$ctrl.address.unit.value"></input-text>
    <input-text field-name="nickname" label="$ctrl.address.city.label" ng-model="$ctrl.address.city.value" required></input-text>
    <input-select field-name="state" label="$ctrl.address.state.label" options="$ctrl.address.state.options" ng-model="$ctrl.address.state.value" required></input-select>
    <input-text field-name="postalCode" label="$ctrl.address.postalCode.label" ng-if="$ctrl.address.postalCode"  ng-model="$ctrl.address.postalCode.value" required></input-text>

    <button type="submit" class="btn btn-success col-xs-offset-2">Save</button>

</form>
<div>submitted: {{addressform.$submitted}}</div>
<br/>

<pre>{{addressform.$error | json}}</pre>
 